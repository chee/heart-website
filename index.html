<!doctype html>
<meta charset=utf-8>
<title>snoot club is here!</title>
<meta name=viewport content=width=device-width,initial-scale=1>
<body bgcolor=aliceblue style=overflow:hidden>
<h1>Welcome to Snoot club</h1>

<h2>Confirmed snoots:</h2>
<ul style=order:2;line-height:1.2;font-size:2em;text-align:left>
	<li>	<a href="https://abe.snoot.club">abe</a>
	<li>	<a href="https://chee.snoot.club">chee</a>
	<li>	<a href="https://rowan.snoot.club">rowan</a>
</ul>

<p>
	<font face=Verdana size=-2>
		Free DHTML scripts provided by
		<br>
		<a href=http://www.dynamicdrive.com>
			Dynamic Drive
		</a>
	</font>
</p>

<script language="JavaScript1.2" type="text/JavaScript">
void function () {
	let timeout = 200
	let spacing = 50
	let lastX = 0
	let lastY = 0
	let limit = 10
	let index = 0

	let getRandom = items =>
		items[Math.floor(Math.random() * items.length)]

	let trailers = [
		"❤️",
		"💙",
		"💕",
		"💛",
		"\u2603\ufe0e",
		"☃",
		"🍉",
		"🍊",
		"🍌",
		"🍍",
		"🍐",
		"🍑",
		"🍒",
		"🍓",
		"🥝",
		"🍅",
		"🥑"
	]

	let createTrailer = (mouseX, mouseY) => {
		let trailer = document.createElement("trail")
		trailer.textContent = getRandom(trailers)
		with (trailer.style) {
			position = "absolute"
			zIndex = 100000000000000000000
			top = 0
			left = 0
			pointerEvents = "none"
			transform = `translate(${mouseX}px, ${mouseY}px)`
			fontSize = `${spacing}px`
		}
		return trailer
	}

	let trail = (x, y) => {
		let trailer = createTrailer(x, y)
		document.body.append(trailer)

		setTimeout(() => trailer.remove(), timeout)

		if (index++ > limit) {
			index = 0
		}
	}

	let handleMouseMovement = event => {
		let x = event.pageX
		let y = event.pageY

		let limitX = spacing + lastX
		let limitY = spacing + lastY

		if (
			x > limitX ||
			x < limitX ||
			y > limitY ||
			y < limitY
		) {
			trail(x, y)
		}

		lastX = x,
		lastY = y
	}

	window.addEventListener("mousemove", handleMouseMovement)
}()

void function () {
	let leafmoji = [
		"🍂",
		"🍁",
		"🍃",
		"🌿",
		"🍂",
		"🍁",
		"☘️",
		"🍂",
		"🍁",
		"🌲"
	]

	let getRandom = items =>
		items[Math.floor(Math.random() * items.length)]

	let roundum = number => Math.round(Math.random() * number)

	let getRandomLeaf = () => {
		let element = document.createElement("leaf")
		with (element) {
			textContent = getRandom(leafmoji)
			with (style) {
				position = "absolute"
				top = 0
				left = 0
				pointerEvents = "none"
				fontSize = "2em"
				display = "none"
			}
		}

		return {
			y: roundum(window.innerHeight) - 100,
			x: roundum(window.innerWidth),
			speed: roundum(5) + 3,
			steps: Math.random() * 0.1 + 0.05,
			step: 0,
			element
		}
	}

	let appendLeaf = leaf => (document.body.append(leaf.element), leaf)

	let leaves = Array.from(Array(20), () => appendLeaf(getRandomLeaf()))

	let calculateDrop = speed =>
		speed * Math.sin(90 * Math.PI / 180)

	let fall = leaves => {
		let height = window.innerHeight
		let width = window.innerWidth
		let scrollX = window.pageXOffset
		let scrollY = window.pageYOffset

		let nextLeaves = leaves.map(leaf => {
			let drift = leaf.speed * Math.cos(leaf.step)
			let drop = calculateDrop(leaf.speed)

			leaf.x += drift
			leaf.y += drop

			if (leaf.y > height) {
				leaf.element.remove()
				let next = appendLeaf(getRandomLeaf())
				return next
			}

			leaf.element.style.transform = `translate(
				${leaf.x + scrollX}px,
				${leaf.y + scrollY}px
			)`

			leaf.element.style.display = "block"

			leaf.step += leaf.steps

			return leaf
		})

		requestAnimationFrame(() => fall(nextLeaves))
	}

	fall(leaves)
}()
</script>
